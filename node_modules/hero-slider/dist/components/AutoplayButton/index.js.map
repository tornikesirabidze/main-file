{"version":3,"file":"index.js","sources":["../../../src/components/AutoplayButton/index.tsx"],"sourcesContent":["import React from 'react';\n\nimport { useAutoplay } from '../../modules/Autoplay';\nimport { IntervalState } from '../../modules/IntervalTimer';\nimport { composeCssClasses } from '../../utils/composeCssClasses';\nimport { NavPosition } from '../Nav';\nimport AutoplayButtonModuleCss from './index.module.css';\n\nenum ButtonType {\n  PLAY = 'play',\n  PAUSE = 'pause'\n}\n\n/**\n * `AutoplayButton` component props.\n */\nexport interface AutoplayButtonProps {\n  /**\n   * CSS class name.\n   */\n  className?: React.HTMLAttributes<HTMLElement>['className'];\n  /**\n   * Object of CSS properties `top`, `left`, `bottom`, and `right` used to absolutely position elements.\n   * Aside from the former, you can also set the CSS `transform` property to help you center the element.\n   * @default\n   * {\n   *    bottom: '0',\n   *    left: '0'\n   * }\n   */\n  position?: NavPosition;\n  /**\n   * Inline CSS styling.\n   */\n  style?: React.CSSProperties;\n}\n\nclass AutoplaySvg {\n  private static readonly playPath =\n    'M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z';\n\n  private static readonly pausePath =\n    'M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z';\n\n  public static getPath(buttonType: ButtonType): string {\n    if (buttonType === ButtonType.PAUSE) return AutoplaySvg.pausePath;\n    else return AutoplaySvg.playPath;\n  }\n}\n\nexport function AutoplayButton(props: AutoplayButtonProps) {\n  const {\n    className,\n    style,\n    position = {\n      bottom: '0',\n      left: '0'\n    }\n  } = props;\n\n  const {\n    state: { isPausedByUser },\n    autoplayState,\n    resume,\n    pause\n  } = useAutoplay();\n\n  const [buttonType, setButtonType] = React.useState<ButtonType>(\n    autoplayState !== IntervalState.IDLE ? ButtonType.PAUSE : ButtonType.PLAY\n  );\n\n  const onClickHandler = (\n    event: React.MouseEvent<HTMLButtonElement, MouseEvent>\n  ) => {\n    event.stopPropagation();\n    if (isPausedByUser) resume();\n    else pause();\n  };\n\n  React.useEffect(() => {\n    if (isPausedByUser && autoplayState === IntervalState.IDLE)\n      setButtonType(ButtonType.PLAY);\n    else if (isPausedByUser && autoplayState === IntervalState.PAUSED)\n      setButtonType(ButtonType.PLAY);\n    else setButtonType(ButtonType.PAUSE);\n  }, [isPausedByUser, autoplayState]);\n\n  return (\n    <button\n      data-testid=\"hero-slider-autoplay-button\"\n      className={composeCssClasses(\n        'hero-slider-autoplay-button',\n        AutoplayButtonModuleCss.Button,\n        className\n      )}\n      onClick={onClickHandler}\n      style={{\n        ...position,\n        ...style\n      }}\n    >\n      <svg fill=\"currentColor\" height=\"100%\" width=\"100%\" viewBox=\"0 0 36 36\">\n        <path d={AutoplaySvg.getPath(buttonType)} />\n      </svg>\n    </button>\n  );\n}\n\n(AutoplayButton as React.FunctionComponent).displayName =\n  'hero-slider/autoplay-button';\n"],"names":["useAutoplay","React","IntervalState","_jsx","composeCssClasses","AutoplayButtonModuleCss"],"mappings":";;;;;;;;;;;;;;;AAQA,IAAK,UAGJ,CAAA;AAHD,CAAA,UAAK,UAAU,EAAA;AACb,IAAA,UAAA,CAAA,MAAA,CAAA,GAAA,MAAa,CAAA;AACb,IAAA,UAAA,CAAA,OAAA,CAAA,GAAA,OAAe,CAAA;AACjB,CAAC,EAHI,UAAU,KAAV,UAAU,GAGd,EAAA,CAAA,CAAA,CAAA;AA0BD,MAAM,WAAW,CAAA;IAOR,OAAO,OAAO,CAAC,UAAsB,EAAA;AAC1C,QAAA,IAAI,UAAU,KAAK,UAAU,CAAC,KAAK;YAAE,OAAO,WAAW,CAAC,SAAS,CAAC;;YAC7D,OAAO,WAAW,CAAC,QAAQ,CAAC;KAClC;;AATuB,WAAQ,CAAA,QAAA,GAC9B,iEAAiE,CAAC;AAE5C,WAAS,CAAA,SAAA,GAC/B,yDAAyD,CAAC;AAQxD,SAAU,cAAc,CAAC,KAA0B,EAAA;AACvD,IAAA,MAAM,EACJ,SAAS,EACT,KAAK,EACL,QAAQ,GAAG;AACT,QAAA,MAAM,EAAE,GAAG;AACX,QAAA,IAAI,EAAE,GAAG;KACV,EACF,GAAG,KAAK,CAAC;AAEV,IAAA,MAAM,EACJ,KAAK,EAAE,EAAE,cAAc,EAAE,EACzB,aAAa,EACb,MAAM,EACN,KAAK,EACN,GAAGA,oBAAW,EAAE,CAAC;AAElB,IAAA,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC,GAAGC,yBAAK,CAAC,QAAQ,CAChD,aAAa,KAAKC,2BAAa,CAAC,IAAI,GAAG,UAAU,CAAC,KAAK,GAAG,UAAU,CAAC,IAAI,CAC1E,CAAC;AAEF,IAAA,MAAM,cAAc,GAAG,CACrB,KAAsD,KACpD;QACF,KAAK,CAAC,eAAe,EAAE,CAAC;AACxB,QAAA,IAAI,cAAc;AAAE,YAAA,MAAM,EAAE,CAAC;;AACxB,YAAA,KAAK,EAAE,CAAC;AACf,KAAC,CAAC;AAEF,IAAAD,yBAAK,CAAC,SAAS,CAAC,MAAK;AACnB,QAAA,IAAI,cAAc,IAAI,aAAa,KAAKC,2BAAa,CAAC,IAAI;AACxD,YAAA,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AAC5B,aAAA,IAAI,cAAc,IAAI,aAAa,KAAKA,2BAAa,CAAC,MAAM;AAC/D,YAAA,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;;AAC5B,YAAA,aAAa,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AACvC,KAAC,EAAE,CAAC,cAAc,EAAE,aAAa,CAAC,CAAC,CAAC;IAEpC,QACEC,cACc,CAAA,QAAA,EAAA,MAAA,CAAA,MAAA,CAAA,EAAA,aAAA,EAAA,6BAA6B,EACzC,SAAS,EAAEC,mCAAiB,CAC1B,6BAA6B,EAC7BC,uBAAuB,CAAC,MAAM,EAC9B,SAAS,CACV,EACD,OAAO,EAAE,cAAc,EACvB,KAAK,EACA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,QAAQ,CACR,EAAA,KAAK,CAGV,EAAA,EAAA,EAAA,QAAA,EAAAF,cAAA,CAAA,KAAA,EAAA,MAAA,CAAA,MAAA,CAAA,EAAK,IAAI,EAAC,cAAc,EAAC,MAAM,EAAC,MAAM,EAAC,KAAK,EAAC,MAAM,EAAC,OAAO,EAAC,WAAW,EACrE,EAAA,EAAA,QAAA,EAAAA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAE,WAAW,CAAC,OAAO,CAAC,UAAU,CAAC,EAAI,CAAA,EAAA,CAAA,CACxC,EACC,CAAA,CAAA,EACT;AACJ,CAAC;AAEA,cAA0C,CAAC,WAAW;AACrD,IAAA,6BAA6B;;;;"}